webpackJsonp([11],{"0bIn":function(t,e,n){var a=n("VRHq");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);n("rjj0")("c4b8f9ce",a,!0,{})},"14id":function(t,e,n){"use strict";function a(t){return u()(t.$route.query).length?d[t.$route.name].school:d[t.$route.name][t.$root.userInfo.power]}function o(t,e,n){return new c.a(function(a,o){t.$api[e.rankingApi]({role:e.role,schoolYear:n.schoolYear,schoolTerm:n.schoolTerm,schoolId:n.schoolId||null}).then(function(e){0===e.data.length?t.loadingStatus="暂无数据":e.data.teacherList&&0===e.data.teacherList.length&&(t.loadingStatus="暂无数据"),a(e.data)}).catch(function(e){t.loadingStatus=e.msg})})}function i(t,e,n){return new c.a(function(a,o){t.$api[e.countsApi]({role:e.role,schoolYear:n.schoolYear||"2017-2018",schoolTerm:n.schoolTerm||2,schoolId:n.schoolId||null}).then(function(t){var n={};for(var o in e.countsTit)n[o]=t.data[o];a(n)})})}function r(t,e,n){return new c.a(function(a,o){t.$api[e.chartApi]({role:e.role,schoolYear:n.schoolYear||"2017-2018",schoolTerm:n.schoolTerm||2,schoolId:n.schoolId||null,type:n.chartDataType||"day"}).then(function(t){a(t.data)})})}e.b=a,e.d=o,e.c=i,e.a=r;var s=n("//Fk"),c=n.n(s),l=n("fZjL"),u=n.n(l),d={userdevelopment:{district:{role:"district",countsApi:"datacenter/areaUserView",countsTit:{userTotalNum:"用户总数",userLast30ActiveRate:"活跃率%",teacherNum:"教师数",studentNum:"学生数"},chartApi:"datacenter/areaChartActive",interval:"date*userActiveNum",line:"date*userActiveRate",noshow:"userActiveRate",chartOptions:{userActiveNum:{min:0,max:15e3,alias:"活跃用户数",ticks:[0,3e3,6e3,9e3,12e3,15e3]},userActiveRate:{min:0,max:1,alias:"用户活跃率",formatter:function(t){return(100*t).toFixed(1)+"%"}}},rankingApi:"datacenter/areaActive",rankingTit:"学校活跃情况排名",rankingThead:{areaName:"学校",activeRate:"活跃率%"}},school:{role:"school",countsApi:"datacenter/schUserView",countsTit:{studentNum:"学生数",studentRank:"区县排名",teacherNum:"教师数",teacherRank:"区县排名",userLast30ActiveRate:"活跃率%",userRank:"区县排名",userTotalNum:"用户总数"},chartApi:"datacenter/schChartActive",interval:"date*activeNum",line:"date*activeRate",noshow:"activeRate",chartOptions:{activeNum:{min:0,max:3e3,alias:"活跃用户数"},activeRate:{min:0,max:1,alias:"用户活跃率",formatter:function(t){return(100*t).toFixed(1)+"%"}}},rankingApi:"datacenter/schActive",rankingTit:"班级活跃情况排名",rankingThead:{className:"班级",activeRate:"活跃率%"}}},educationres:{district:{role:"district",countsApi:"datacenter/areaTeachRes",countsTit:{resourceNum:"资源总量",contributionResourceNum:"资源贡献量",useResourceNum:"资源使用量",useResourceRate:"资源使用率%"},chartApi:"datacenter/areaResourceDistribute",rankingApi:"datacenter/areaResContribution",rankingTit:"资源贡献学校排行",rankingThead:{schoolName:"学校名称",resContributionNum:"贡献量",resContributeUserAvgRate:"人均资源贡献量"}},school:{role:"school",countsApi:"datacenter/schTeachRes",countsTit:{canUseResourceTotal:"资源总量",contributionResourceNum:"资源贡献量",useResourceNum:"资源使用量",useResourceRate:"资源使用率%"},chartApi:"datacenter/schResourceDistributen",rankingApi:"datacenter/schResContribution",rankingTit:"教师资源贡献排行",rankingThead:{user_name:"教师",resContributionNum:"贡献量",resUsedNum:"使用量"}}},areateach:{district:{role:"district",countsApi:"datacenter/areaTeachCounts",countsTit:{actNum:"已发起活动数",participateRate:"用户参与率%",avgPartpActNum:"人均参与数",resultNum:"教研成果数"},rankingApi:"datacenter/areaActivity",rankingTit:"教研活动参与数据排行",rankingThead:{name:"学校",participateNum:"参与人次",participateRate:"用户参与率%",participateUserNum:"参与用户数"}},school:{role:"school",countsApi:"datacenter/schTeachCounts",countsTit:{actNum:"已发起",actRank:"区县排名",avgPartpActNum:"人均参与",avgPartpActNumRank:"区县排名",participateRate:"参与率%",resultNum:"教研成果数",resultNumRank:"区县排名",userJoinRank:"区县排名"},rankingApi:"datacenter/schActivity",rankingTit:"活动参与数量情况",rankingThead:{actType:"活动类型",actNum:"活动数",accounted:"占比"}}},internet:{district:{role:"district",countsApi:"datacenter/areaPreBook",countsTit:{finishedTaskNum:"已备任务数",lessonJoinRate:"备课参与率%",lessonQualifiedRate:"备课合格率%",lessonResultNum:"备课成果数"},chartApi:"datacenter/areaLessonTime",line2:"date*taskNum",line:"date*userNum",chartOptions:{taskNum:{alias:"任务数"},userNum:{alias:"用户数"}},rankingApi:"datacenter/areaLessonRank",rankingTit:"备课参与学校排行",rankingThead:{areaName:"学校名称",activeRate:"备课参与率%",finishedTaskNum:"已备任务数"}},school:{role:"school",countsApi:"datacenter/schPreBook",countsTit:{finishedTaskNum:"已备任务数",lessonJoinRate:"备课参与率%",lessonQualifiedRate:"备课合格率%",lessonResultNum:"备课成果数"},rankingApi:"datacenter/schLessonRank",rankingTit:"备课参与教师排行",rankingThead:{userName:"教师名称",finishedTaskNum:"已备任务数",taskNum:"资源数",resultNum:"资源使用率%"}}},classteach:{district:{role:"district",countsApi:"datacenter/areaClassTeach",countsTit:{coverRate:"学校覆盖率%",interactionAvgNum:"人均互动",shoukeAvgNum:"人均授课",shoukeTeacherNumRate:"覆盖率%"},rankingApi:"datacenter/areaClassTeachRank",rankingTit:"授课参与学校排行",rankingThead:{schoolName:"学校名称",shoukeNum:"授课次数",coverRate:"覆盖率%"}},school:{role:"school",countsApi:"datacenter/schClassTeach",countsTit:{coverAreaNum:"区县排名总数",teachAvgNum:"人均互动",teachAvgRank:"区县排名",teachCoverPer:"覆盖率%",teachCoverRank:"区县排名",teachNum:"人均授课",teachRank:"区县排名",totalAreaNum:"区县排名总数"},rankingApi:"datacenter/schClassTeachRank",rankingTit:"教师授课排行",rankingThead:{teacherName:"教师",teachNum:"授课次数"}}},classwork:{district:{role:"district",countsApi:"datacenter/areaClassWork",countsTit:{avgArrangeWorkNum:"人均布置作业次数",correctRate:"作业批改率%",scoreRate:"作业得分率%",submitRate:"作业正常提交率%"},rankingApi:"datacenter/areaClassWorkRank",rankingTit:"作业布置情况排行",rankingThead:{areaName:"学校名称",arrangeWorkNum:"布置次数",arrangeWorkTeacherNum:"人均作业布置次数"}},school:{role:"school",countsApi:"datacenter/schClassWork",countsTit:{averHomeworkNum:"人均布置作业次数",homeworkAccuracyRate:"作业得分率%",homeworkCorrectRate:"作业批改率%",homeworkSubmitRate:"作业正常提交率%"},rankingApi:"datacenter/schClassWorkRank",rankingTit:"作业布置情况排行",rankingThead:{teacherName:"教师名称",correctedRate:"批改率%"}}}}},"4VPn":function(t,e,n){t.exports=function(t){function e(a){if(n[a])return n[a].exports;var o=n[a]={i:a,l:!1,exports:{}};return t[a].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,a){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:a})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=229)}({0:function(t,e){t.exports=function(t,e,n,a,o){var i,r=t=t||{},s=typeof t.default;"object"!==s&&"function"!==s||(i=t,r=t.default);var c="function"==typeof r?r.options:r;e&&(c.render=e.render,c.staticRenderFns=e.staticRenderFns),a&&(c._scopeId=a);var l;if(o?(l=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},c._ssrRegister=l):n&&(l=n),l){var u=c.functional,d=u?c.render:c.beforeCreate;u?c.render=function(t,e){return l.call(e),d(t,e)}:c.beforeCreate=d?[].concat(d,l):[l]}return{esModule:i,exports:r,options:c}}},1:function(t,e){t.exports=n("7+uW")},123:function(t,e){},13:function(t,e){},148:function(t,e,n){function a(t){n(123)}var o=n(0)(n(70),n(193),a,null,null);t.exports=o.exports},193:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:t.currentTransition}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.currentValue,expression:"currentValue"}],staticClass:"mint-popup",class:[t.position?"mint-popup-"+t.position:""]},[t._t("default")],2)])},staticRenderFns:[]}},2:function(t,e,n){"use strict";function a(t,e){if(!t||!e)return!1;if(-1!==e.indexOf(" "))throw new Error("className should not contain space.");return t.classList?t.classList.contains(e):(" "+t.className+" ").indexOf(" "+e+" ")>-1}function o(t,e){if(t){for(var n=t.className,o=(e||"").split(" "),i=0,r=o.length;i<r;i++){var s=o[i];s&&(t.classList?t.classList.add(s):a(t,s)||(n+=" "+s))}t.classList||(t.className=n)}}function i(t,e){if(t&&e){for(var n=e.split(" "),o=" "+t.className+" ",i=0,r=n.length;i<r;i++){var s=n[i];s&&(t.classList?t.classList.remove(s):a(t,s)&&(o=o.replace(" "+s+" "," ")))}t.classList||(t.className=l(o))}}var r=n(1),s=n.n(r);n.d(e,"c",function(){return h}),e.a=o,e.b=i;var c=s.a.prototype.$isServer,l=(c||Number(document.documentMode),function(t){return(t||"").replace(/^[\s\uFEFF]+|[\s\uFEFF]+$/g,"")}),u=function(){return!c&&document.addEventListener?function(t,e,n){t&&e&&n&&t.addEventListener(e,n,!1)}:function(t,e,n){t&&e&&n&&t.attachEvent("on"+e,n)}}(),d=function(){return!c&&document.removeEventListener?function(t,e,n){t&&e&&t.removeEventListener(e,n,!1)}:function(t,e,n){t&&e&&t.detachEvent("on"+e,n)}}(),h=function(t,e,n){var a=function(){n&&n.apply(this,arguments),d(t,e,a)};u(t,e,a)}},229:function(t,e,n){t.exports=n(37)},37:function(t,e,n){"use strict";var a=n(148),o=n.n(a);Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"default",function(){return o.a})},7:function(t,e,n){"use strict";e.a=function(t){for(var e=arguments,n=1,a=arguments.length;n<a;n++){var o=e[n]||{};for(var i in o)if(o.hasOwnProperty(i)){var r=o[i];void 0!==r&&(t[i]=r)}}return t}},70:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(8),o=n(1);n.n(o).a.prototype.$isServer||n(13),e.default={name:"mt-popup",mixins:[a.a],props:{modal:{default:!0},modalFade:{default:!1},lockScroll:{default:!1},closeOnClickModal:{default:!0},popupTransition:{type:String,default:"popup-slide"},position:{type:String,default:""}},data:function(){return{currentValue:!1,currentTransition:this.popupTransition}},watch:{currentValue:function(t){this.$emit("input",t)},value:function(t){this.currentValue=t}},beforeMount:function(){"popup-fade"!==this.popupTransition&&(this.currentTransition="popup-slide-"+this.position)},mounted:function(){this.value&&(this.rendered=!0,this.currentValue=!0,this.open())}}},8:function(t,e,n){"use strict";var a,o=n(1),i=n.n(o),r=n(7),s=n(9),c=1,l=[],u=function(t){if(-1===l.indexOf(t)){var e=function(t){var e=t.__vue__;if(!e){var n=t.previousSibling;n.__vue__&&(e=n.__vue__)}return e};i.a.transition(t,{afterEnter:function(t){var n=e(t);n&&n.doAfterOpen&&n.doAfterOpen()},afterLeave:function(t){var n=e(t);n&&n.doAfterClose&&n.doAfterClose()}})}},d=function(){if(!i.a.prototype.$isServer){if(void 0!==a)return a;var t=document.createElement("div");t.style.visibility="hidden",t.style.width="100px",t.style.position="absolute",t.style.top="-9999px",document.body.appendChild(t);var e=t.offsetWidth;t.style.overflow="scroll";var n=document.createElement("div");n.style.width="100%",t.appendChild(n);var o=n.offsetWidth;return t.parentNode.removeChild(t),e-o}},h=function(t){return 3===t.nodeType&&(t=t.nextElementSibling||t.nextSibling,h(t)),t};e.a={props:{value:{type:Boolean,default:!1},transition:{type:String,default:""},openDelay:{},closeDelay:{},zIndex:{},modal:{type:Boolean,default:!1},modalFade:{type:Boolean,default:!0},modalClass:{},lockScroll:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!1},closeOnClickModal:{type:Boolean,default:!1}},created:function(){this.transition&&u(this.transition)},beforeMount:function(){this._popupId="popup-"+c++,s.a.register(this._popupId,this)},beforeDestroy:function(){s.a.deregister(this._popupId),s.a.closeModal(this._popupId),this.modal&&null!==this.bodyOverflow&&"hidden"!==this.bodyOverflow&&(document.body.style.overflow=this.bodyOverflow,document.body.style.paddingRight=this.bodyPaddingRight),this.bodyOverflow=null,this.bodyPaddingRight=null},data:function(){return{opened:!1,bodyOverflow:null,bodyPaddingRight:null,rendered:!1}},watch:{value:function(t){var e=this;if(t){if(this._opening)return;this.rendered?this.open():(this.rendered=!0,i.a.nextTick(function(){e.open()}))}else this.close()}},methods:{open:function(t){var e=this;this.rendered||(this.rendered=!0,this.$emit("input",!0));var a=n.i(r.a)({},this,t,this.$props);this._closeTimer&&(clearTimeout(this._closeTimer),this._closeTimer=null),clearTimeout(this._openTimer);var o=Number(a.openDelay);o>0?this._openTimer=setTimeout(function(){e._openTimer=null,e.doOpen(a)},o):this.doOpen(a)},doOpen:function(t){if(!this.$isServer&&(!this.willOpen||this.willOpen())&&!this.opened){this._opening=!0,this.visible=!0,this.$emit("input",!0);var e=h(this.$el),n=t.modal,o=t.zIndex;if(o&&(s.a.zIndex=o),n&&(this._closing&&(s.a.closeModal(this._popupId),this._closing=!1),s.a.openModal(this._popupId,s.a.nextZIndex(),e,t.modalClass,t.modalFade),t.lockScroll)){this.bodyOverflow||(this.bodyPaddingRight=document.body.style.paddingRight,this.bodyOverflow=document.body.style.overflow),a=d();var i=document.documentElement.clientHeight<document.body.scrollHeight;a>0&&i&&(document.body.style.paddingRight=a+"px"),document.body.style.overflow="hidden"}"static"===getComputedStyle(e).position&&(e.style.position="absolute"),e.style.zIndex=s.a.nextZIndex(),this.opened=!0,this.onOpen&&this.onOpen(),this.transition||this.doAfterOpen()}},doAfterOpen:function(){this._opening=!1},close:function(){var t=this;if(!this.willClose||this.willClose()){null!==this._openTimer&&(clearTimeout(this._openTimer),this._openTimer=null),clearTimeout(this._closeTimer);var e=Number(this.closeDelay);e>0?this._closeTimer=setTimeout(function(){t._closeTimer=null,t.doClose()},e):this.doClose()}},doClose:function(){var t=this;this.visible=!1,this.$emit("input",!1),this._closing=!0,this.onClose&&this.onClose(),this.lockScroll&&setTimeout(function(){t.modal&&"hidden"!==t.bodyOverflow&&(document.body.style.overflow=t.bodyOverflow,document.body.style.paddingRight=t.bodyPaddingRight),t.bodyOverflow=null,t.bodyPaddingRight=null},200),this.opened=!1,this.transition||this.doAfterClose()},doAfterClose:function(){s.a.closeModal(this._popupId),this._closing=!1}}}},9:function(t,e,n){"use strict";var a=n(1),o=n.n(a),i=n(2),r=!1,s=function(){if(!o.a.prototype.$isServer){var t=l.modalDom;return t?r=!0:(r=!1,t=document.createElement("div"),l.modalDom=t,t.addEventListener("touchmove",function(t){t.preventDefault(),t.stopPropagation()}),t.addEventListener("click",function(){l.doOnModalClick&&l.doOnModalClick()})),t}},c={},l={zIndex:2e3,modalFade:!0,getInstance:function(t){return c[t]},register:function(t,e){t&&e&&(c[t]=e)},deregister:function(t){t&&(c[t]=null,delete c[t])},nextZIndex:function(){return l.zIndex++},modalStack:[],doOnModalClick:function(){var t=l.modalStack[l.modalStack.length-1];if(t){var e=l.getInstance(t.id);e&&e.closeOnClickModal&&e.close()}},openModal:function(t,e,a,c,l){if(!o.a.prototype.$isServer&&t&&void 0!==e){this.modalFade=l;for(var u=this.modalStack,d=0,h=u.length;d<h;d++){if(u[d].id===t)return}var p=s();if(n.i(i.a)(p,"v-modal"),this.modalFade&&!r&&n.i(i.a)(p,"v-modal-enter"),c){c.trim().split(/\s+/).forEach(function(t){return n.i(i.a)(p,t)})}setTimeout(function(){n.i(i.b)(p,"v-modal-enter")},200),a&&a.parentNode&&11!==a.parentNode.nodeType?a.parentNode.appendChild(p):document.body.appendChild(p),e&&(p.style.zIndex=e),p.style.display="",this.modalStack.push({id:t,zIndex:e,modalClass:c})}},closeModal:function(t){var e=this.modalStack,a=s();if(e.length>0){var o=e[e.length-1];if(o.id===t){if(o.modalClass){o.modalClass.trim().split(/\s+/).forEach(function(t){return n.i(i.b)(a,t)})}e.pop(),e.length>0&&(a.style.zIndex=e[e.length-1].zIndex)}else for(var r=e.length-1;r>=0;r--)if(e[r].id===t){e.splice(r,1);break}}0===e.length&&(this.modalFade&&n.i(i.a)(a,"v-modal-leave"),setTimeout(function(){0===e.length&&(a.parentNode&&a.parentNode.removeChild(a),a.style.display="none",l.modalDom=void 0),n.i(i.b)(a,"v-modal-leave")},200))}};!o.a.prototype.$isServer&&window.addEventListener("keydown",function(t){if(27===t.keyCode&&l.modalStack.length>0){var e=l.modalStack[l.modalStack.length-1];if(!e)return;var n=l.getInstance(e.id);n.closeOnPressEscape&&n.close()}}),e.a=l}})},"712O":function(t,e,n){"use strict";function a(t){n("0bIn")}var o=(n("7+uW"),{props:{type:String,counts:{type:Object,default:function(){return{}}},titleList:{type:Object,default:function(){return{}}}},methods:{}}),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("ul",{staticClass:"chart-list"},t._l(t.titleList,function(e,a){return n("li",{key:a},[n("h4",[t._v(t._s(e))]),n("h4",[t._v(t._s(t._f("preData")(t.counts[a])))])])}))])},r=[],s={render:i,staticRenderFns:r},c=s,l=n("VU/8"),u=a,d=l(o,c,!1,u,"data-v-03b527bc",null);e.a=d.exports},EHFR:function(t,e,n){t.exports=n.p+"assets/images/bg-res-2.5bb2ebd.png"},HmOI:function(t,e,n){"use strict";function a(t){n("wX/P")}var o=n("fZjL"),i=n.n(o),r=(n("q/am"),n("4VPn")),s=n.n(r),c=(n("lrMw"),n("7YS2")),l=n.n(c),u=n("7+uW");u.default.component(l.a.name,l.a),u.default.component(s.a.name,s.a);var d={props:{api:{type:String,default:""},title:{type:String,default:"我是默认标题"},loadingStatus:{type:String,default:"数据加载中..."},theadTitle:{type:Object,default:function(){return{}}},tbodyContent:{type:Array,default:function(){return[]}}},created:function(){},mounted:function(){var t=this,e=this;e.searchData.search=e.debounce(function(){console.log("dangqian",e.api),e.searchData.searchTxt&&e.$api[e.api]({role:"district",schoolYear:e.$route.params.year,schoolTerm:e.$route.params.term,schoolName:e.searchData.searchTxt}).then(function(e){t.searchData.showList=!0,0!==e.data.length?(t.total=e.data.length,t.searchData.data=e.data):(t.total=0,t.searchData.data=[])})},1e3)},computed:{colspan:function(){return i()(this.theadTitle).length+1},hasRole:function(){return"district"===this.$root.userInfo.power},showSearch:function(){return 0===i()(this.$route.query).length}},methods:{popSearch:function(){this.searchData.searchVisible=!0},debounce:function(t,e){var n=this,a=arguments,o=null;return function(){n=this,a=arguments,clearTimeout(o),o=setTimeout(function(){t.apply(n,a)},e||250)}},cancelSearch:function(){this.searchData.searchTxt=null,this.searchData.searchVisible=!1,this.searchData.showList=!1,this.total=0,this.searchData.data=[]},loadBottom:function(){console.log("上啦"),this.$refs.loadmore.onBottomLoaded()},getSchool:function(t){var e=this;return function(n,a,o){e.cancelSearch(),0===i()(e.$route.query).length&&(t.schoolId?e.$router.push({name:e.$route.name,query:{school:t.schoolId,name:t.schoolName}}):t.areaId?(console.log("areaId:"+t.areaId),e.$router.push({name:e.$route.name,query:{school:t.areaId,name:t.areaName}})):e.toast("没有学校ID，测试环境数据导致错误！"))}}},data:function(){return{total:0,searchData:{searchVisible:!1,searchTxt:null,search:null,showList:!1,data:[]}}}},h=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"m-ranking"},[n("mt-cell",{attrs:{title:t.title}}),t.showSearch&&t.hasRole?n("div",{directives:[{name:"touch",rawName:"v-touch:tap",value:t.popSearch,expression:"popSearch",arg:"tap"}],staticClass:"u-search"},[t._v("搜索学校")]):t._e(),n("table",{staticClass:"list"},[n("thead",[n("tr",[n("th"),t._l(t.theadTitle,function(e,a){return n("th",{key:a},[t._v(t._s(e))])})],2)]),0!==t.tbodyContent.length?n("tbody",t._l(t.tbodyContent,function(e,a){return n("tr",{directives:[{name:"touch",rawName:"v-touch:tap",value:t.getSchool(e),expression:"getSchool(el)",arg:"tap"}],key:a},[n("td",[n("div",{staticClass:"index"},[t._v(t._s(a+1))])]),t._l(t.theadTitle,function(a,o){return n("td",{key:o},[t._v(t._s(e[o]))])})],2)})):n("tbody",[n("tr",[n("td",{attrs:{colspan:t.colspan,align:"center"}},[t._v("\n          "+t._s(t.loadingStatus)+"\n        ")])])])]),n("mt-popup",{staticClass:"m-search m-recenter-wrap",attrs:{position:"right",closeOnClickModal:!1,modal:!1},model:{value:t.searchData.searchVisible,callback:function(e){t.$set(t.searchData,"searchVisible",e)},expression:"searchData.searchVisible"}},[n("mt-field",{staticClass:"m-form",attrs:{placeholder:"输入名称搜索文件"},on:{input:t.searchData.search},model:{value:t.searchData.searchTxt,callback:function(e){t.$set(t.searchData,"searchTxt",e)},expression:"searchData.searchTxt"}},[n("span",{directives:[{name:"touch",rawName:"v-touch:tap.prevent.stop",value:t.cancelSearch,expression:"cancelSearch",arg:"tap",modifiers:{prevent:!0,stop:!0}}]},[t._v("取消")])]),n("div",{directives:[{name:"show",rawName:"v-show",value:t.searchData.showList,expression:"searchData.showList"}],staticClass:"m-tip"},[t._v("为您找到\n      "),n("span",[t._v(t._s(t.total))]),t._v("个学校")]),0!==t.searchData.data.length?n("table",{staticClass:"list"},[n("thead",[n("tr",[n("th"),t._l(t.theadTitle,function(e,a){return n("th",{key:a},[t._v(t._s(e))])})],2)]),n("tbody",t._l(t.searchData.data,function(e,a){return n("tr",{directives:[{name:"touch",rawName:"v-touch:tap",value:t.getSchool(e),expression:"getSchool(el)",arg:"tap"}],key:a},[n("td",[n("div",{staticClass:"index"},[t._v(t._s(a+1))])]),t._l(t.theadTitle,function(a,o){return n("td",{key:o},[t._v(t._s(e[o]))])})],2)}))]):t._e()],1)],1)},p=[],f={render:h,staticRenderFns:p},m=f,v=n("VU/8"),g=a,b=v(d,m,!1,g,"data-v-50ea2113",null);e.a=b.exports},RPWL:function(t,e,n){t.exports=n.p+"assets/images/bg-res-4.4945695.png"},VKgA:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("fZjL"),o=n.n(a),i=n("712O"),r=n("HmOI"),s=n("14id"),c={components:{countList:i.a,rankingList:r.a},created:function(){0!==o()(this.$route.query).length?this.$root.toLink="/appcenter/datacenter/"+this.$route.name+"/"+this.$route.params.year+"/"+this.$route.params.term:this.$root.toLink="/appcenter",this.roleConfig=Object(s.b)(this)},mounted:function(){this.init(this.roleConfig)},watch:{$route:function(t,e){0!==o()(this.$route.query).length?this.$root.toLink="/appcenter/datacenter/"+this.$route.name+"/"+this.$route.params.year+"/"+this.$route.params.term:this.$root.toLink="/appcenter",this.loadingStatus="数据加载中...",this.rankingTbody=[],this.roleConfig=Object(s.b)(this),this.init(this.roleConfig)}},methods:{init:function(t){var e=this;Object(s.c)(e,t,{schoolYear:e.$route.params.year,schoolTerm:e.$route.params.term,schoolId:e.$route.query.school||null}).then(function(t){e.counts=t}),Object(s.d)(e,t,{schoolYear:e.$route.params.year,schoolTerm:e.$route.params.term,schoolId:e.$route.query.school||null}).then(function(t){e.rankingTbody=t})}},data:function(){return{schoolYear:"2017-2018",schoolTerm:2,roleConfig:{},counts:{},rankingTbody:[],loadingStatus:"数据加载中..."}}},l=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",["school"===t.roleConfig.role?n("ul",{staticClass:"chart-list"},[n("li",{staticClass:"z-flex"},[n("div",[n("h4",[t._v(t._s(t.roleConfig.countsTit.actNum))]),n("h4",[t._v(t._s(t.counts.actNum))])]),n("div",[n("h4",[t._v(t._s(t.roleConfig.countsTit.actRank))]),n("h4",[t._v(t._s(t.counts.actRank))])])]),n("li",{staticClass:"z-flex"},[n("div",[n("h4",[t._v(t._s(t.roleConfig.countsTit.participateRate))]),n("h4",[t._v(t._s(t.counts.participateRate))])]),n("div",[n("h4",[t._v(t._s(t.roleConfig.countsTit.userJoinRank))]),n("h4",[t._v(t._s(t.counts.userJoinRank))])])]),n("li",{staticClass:"z-flex"},[n("div",[n("h4",[t._v(t._s(t.roleConfig.countsTit.avgPartpActNum))]),n("h4",[t._v(t._s(t.counts.avgPartpActNum))])]),n("div",[n("h4",[t._v(t._s(t.roleConfig.countsTit.avgPartpActNumRank))]),n("h4",[t._v(t._s(t.counts.avgPartpActNumRank))])])]),n("li",{staticClass:"z-flex"},[n("div",[n("h4",[t._v(t._s(t.roleConfig.countsTit.resultNum))]),n("h4",[t._v(t._s(t.counts.resultNum))])]),n("div",[n("h4",[t._v(t._s(t.roleConfig.countsTit.resultNumRank))]),n("h4",[t._v(t._s(t.counts.resultNumRank))])])])]):n("count-list",{attrs:{"title-list":t.roleConfig.countsTit,counts:t.counts}}),n("ranking-list",{attrs:{api:t.roleConfig.rankingApi,title:t.roleConfig.rankingTit,"thead-title":t.roleConfig.rankingThead,"tbody-content":t.rankingTbody,"loading-status":t.loadingStatus}})],1)},u=[],d={render:l,staticRenderFns:u},h=d,p=n("VU/8"),f=p(c,h,!1,null,null,null);e.default=f.exports},VRHq:function(t,e,n){var a=n("kxFB");e=t.exports=n("FZ+f")(!1),e.push([t.i,".chart-list[data-v-03b527bc]{-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-align-content:space-between;-ms-flex-line-pack:justify;align-content:space-between;padding:.2rem .3rem;height:2.56rem;background-color:#fff}.chart-list[data-v-03b527bc],.chart-list li[data-v-03b527bc]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex}.chart-list li[data-v-03b527bc]{-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-justify-content:space-around;-ms-flex-pack:distribute;justify-content:space-around;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;min-width:3.15rem;height:1.15rem;padding:.2rem;list-style:none;background-repeat:no-repeat;-webkit-background-size:3.15rem 1.15rem;background-size:3.15rem 1.15rem}.chart-list li[data-v-03b527bc]:first-child{background-image:url("+a(n("w5nb"))+")}.chart-list li[data-v-03b527bc]:nth-child(2){background-image:url("+a(n("EHFR"))+")}.chart-list li[data-v-03b527bc]:nth-child(3){background-image:url("+a(n("biKS"))+")}.chart-list li[data-v-03b527bc]:nth-child(4){background-image:url("+a(n("RPWL"))+")}.chart-list li h4[data-v-03b527bc]{text-align:center;font-size:.28rem;color:#fefefe}.chart-list li h4+h4[data-v-03b527bc]{font-size:.32rem}",""])},"Y+K4":function(t,e,n){var a=n("kxFB");e=t.exports=n("FZ+f")(!1),e.push([t.i,".m-ranking[data-v-50ea2113]{margin-top:.2rem}.m-ranking .u-search[data-v-50ea2113]{display:block;-webkit-box-sizing:border-box;box-sizing:border-box;margin-left:.3rem;width:6.6rem;height:.7rem;line-height:.7rem;padding-left:.8rem;border:1px solid #dfdfdf;-webkit-border-radius:.35rem;border-radius:.35rem;background:#f3f3f3 url("+a(n("dTO6"))+") no-repeat .3rem;-webkit-background-size:.4rem .4rem;background-size:.4rem;text-decoration:none;color:#c3c3c3;cursor:pointer}.m-ranking .title[data-v-50ea2113]{padding:.2rem .3rem;font-size:.32rem;font-weight:700;color:#333;background-color:#fff}.m-ranking .list[data-v-50ea2113]{width:100%;background-color:#fff}.m-ranking .list thead tr th[data-v-50ea2113]{padding:.2rem .1rem;border-bottom:1px solid #dfdfdf;font-size:.28rem;text-align:left;color:#666}.m-ranking .list thead tr th[data-v-50ea2113]:first-child{width:.7rem}.m-ranking .list tbody tr td[data-v-50ea2113]{padding:.1rem;font-size:.24rem;color:#333}.m-ranking .list tbody tr td[data-v-50ea2113]:first-child{padding-left:.3rem}.m-ranking .list tbody tr td[data-v-50ea2113]:last-child{padding-right:.3rem}.m-ranking .list tbody tr .index[data-v-50ea2113]{width:.4rem;height:.4rem;line-height:.4rem;text-align:center;background-color:#bfbfbf;-webkit-border-radius:4px;border-radius:4px;color:#fff}.m-ranking .list tbody tr:first-of-type .index[data-v-50ea2113]{background-color:#ff2f2f}.m-ranking .list tbody tr:nth-of-type(2) .index[data-v-50ea2113]{background-color:#ff6f2f}.m-ranking .list tbody tr:nth-of-type(3) .index[data-v-50ea2113]{background-color:#ffb32f}.m-list[data-v-50ea2113]{overflow:scroll}.m-search[data-v-50ea2113]{width:100%;height:100%;margin-top:.9rem}.m-search .m-form[data-v-50ea2113]{background-color:#cdcdcf;padding:.1rem}.m-search .m-form span[data-v-50ea2113]{color:#666;margin-left:.2rem}.m-search .m-tip[data-v-50ea2113]{color:#333;font-size:.32rem;padding:.1rem;background-color:#f3f4f6}.m-search .m-tip span[data-v-50ea2113]{color:#ff6c00}",""])},biKS:function(t,e,n){t.exports=n.p+"assets/images/bg-res-3.2d92197.png"},cGh8:function(t,e,n){e=t.exports=n("FZ+f")(!1),e.push([t.i,".v-modal-enter {\n  -webkit-animation: v-modal-in .2s ease;\n          animation: v-modal-in .2s ease;\n}\n\n.v-modal-leave {\n  -webkit-animation: v-modal-out .2s ease forwards;\n          animation: v-modal-out .2s ease forwards;\n}\n\n@-webkit-keyframes v-modal-in {\n  0% {\n    opacity: 0;\n  }\n  100% {\n  }\n}\n\n@keyframes v-modal-in {\n  0% {\n    opacity: 0;\n  }\n  100% {\n  }\n}\n\n@-webkit-keyframes v-modal-out {\n  0% {\n  }\n  100% {\n    opacity: 0;\n  }\n}\n\n@keyframes v-modal-out {\n  0% {\n  }\n  100% {\n    opacity: 0;\n  }\n}\n\n.v-modal {\n  position: fixed;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  opacity: 0.5;\n  background: #000;\n}\n\n.mint-popup {\n  position: fixed;\n  background: #fff;\n  top: 50%;\n  left: 50%;\n  -webkit-transform: translate3d(-50%, -50%, 0);\n          transform: translate3d(-50%, -50%, 0);\n  -webkit-backface-visibility: hidden;\n          backface-visibility: hidden;\n  -webkit-transition: .2s ease-out;\n  transition: .2s ease-out;\n}\n.mint-popup-top {\n  top: 0;\n  right: auto;\n  bottom: auto;\n  left: 50%;\n  -webkit-transform: translate3d(-50%, 0, 0);\n          transform: translate3d(-50%, 0, 0);\n}\n.mint-popup-right {\n  top: 50%;\n  right: 0;\n  bottom: auto;\n  left: auto;\n  -webkit-transform: translate3d(0, -50%, 0);\n          transform: translate3d(0, -50%, 0);\n}\n.mint-popup-bottom {\n  top: auto;\n  right: auto;\n  bottom: 0;\n  left: 50%;\n  -webkit-transform: translate3d(-50%, 0, 0);\n          transform: translate3d(-50%, 0, 0);\n}\n.mint-popup-left {\n  top: 50%;\n  right: auto;\n  bottom: auto;\n  left: 0;\n  -webkit-transform: translate3d(0, -50%, 0);\n          transform: translate3d(0, -50%, 0);\n}\n.popup-slide-top-enter, .popup-slide-top-leave-active {\n  -webkit-transform: translate3d(-50%, -100%, 0);\n          transform: translate3d(-50%, -100%, 0);\n}\n.popup-slide-right-enter, .popup-slide-right-leave-active {\n  -webkit-transform: translate3d(100%, -50%, 0);\n          transform: translate3d(100%, -50%, 0);\n}\n.popup-slide-bottom-enter, .popup-slide-bottom-leave-active {\n  -webkit-transform: translate3d(-50%, 100%, 0);\n          transform: translate3d(-50%, 100%, 0);\n}\n.popup-slide-left-enter, .popup-slide-left-leave-active {\n  -webkit-transform: translate3d(-100%, -50%, 0);\n          transform: translate3d(-100%, -50%, 0);\n}\n.popup-fade-enter, .popup-fade-leave-active {\n  opacity: 0;\n}\n",""])},dTO6:function(t,e,n){t.exports=n.p+"assets/images/icon-search-black.6224368.png"},"q/am":function(t,e,n){var a=n("cGh8");"string"==typeof a&&(a=[[t.i,a,""]]);var o={hmr:!0};o.transform=void 0;n("MTIv")(a,o);a.locals&&(t.exports=a.locals)},w5nb:function(t,e,n){t.exports=n.p+"assets/images/bg-res-1.6452c1e.png"},"wX/P":function(t,e,n){var a=n("Y+K4");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);n("rjj0")("7d52656b",a,!0,{})}});